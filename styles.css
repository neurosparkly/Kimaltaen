:root { 
  --nav-pad-x: 1rem; 
  --nav-gap: .5rem; 
  --shadow-w: 30px; 
}

/* ----- Perusrunko ----- */
body {
  margin: 0;
  font-family: system-ui, sans-serif;
}
.site-header {
  display: flex;
  flex-direction: column;
  border-bottom: 1px solid #eee;
}
.brand {
  display: flex; 
  align-items: center; 
  justify-content: space-between;
  padding: .5rem var(--nav-pad-x);
}
.nav-toggle {
  font-size: 1.5rem;
  background: none;
  border: none;
  cursor: pointer;
}

/* ----- Desktop (>600px): näkyy rivinä ----- */
@media (min-width: 601px){
  #primary-nav ul {
    display: flex;
    flex-wrap: wrap;
    gap: .5rem .75rem;
    margin: 0; padding: 0; list-style: none;
  }
  #primary-nav a {
    padding: .5rem .75rem;
    text-decoration: none;
    border-radius: 999px;
    color: inherit;
  }
}

/* ----- Mobiili (≤600px): suljettuna piilossa ----- */
@media (max-width: 600px){
  #primary-nav > ul {
    display: none;
  }
  #primary-nav.open > ul {
    display: flex;
    gap: var(--nav-gap);
    margin: 0;
    padding: .5rem var(--nav-pad-x);
    list-style: none;

    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }
  #primary-nav.open > ul::-webkit-scrollbar { display: none; }

  #primary-nav a {
    display: inline-block;
    white-space: nowrap;
    padding: .5rem .75rem;
    border-radius: 999px;
    text-decoration: none;
    color: inherit;
  }

  /* Varjot reunoihin */
  #primary-nav::before,
  #primary-nav::after{
    content:"";
    position:absolute; top:0; height:100%; width:var(--shadow-w);
    pointer-events:none; z-index:5; opacity:0; transition:opacity .18s;
  }
  #primary-nav::before{
    left:0;
    background: linear-gradient(to right, rgba(255,255,255,0.92), transparent);
  }
  #primary-nav::after{
    right:0;
    background: linear-gradient(to left, rgba(255,255,255,0.92), transparent);
  }
  #primary-nav.scrolled-left::before{ opacity:1; }
  #primary-nav.scrolled-right::after{ opacity:1; }

  /* ettei header leikkaa */
  .site-header { overflow: visible; }
}

/* Korostus aktiiviselle linkille */
#primary-nav a[aria-current="page"] {
  background: #f4f4f5;
}
/* Hamburger-painike: kolme viivaa */
.nav-toggle {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  width: 28px;
  height: 22px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
}

.nav-toggle span {
  display: block;
  height: 3px;
  width: 100%;
  background: #111;
  border-radius: 2px;
  transition: transform .3s, opacity .3s;
}

/* Kun menu auki, viivat ristiin */
.nav-toggle.active span:nth-child(1) {
  transform: translateY(9px) rotate(45deg);
}
.nav-toggle.active span:nth-child(2) {
  opacity: 0;
}
.nav-toggle.active span:nth-child(3) {
  transform: translateY(-9px) rotate(-45deg);
}

/* Navigaatio oletuksena piilossa mobiilissa */
#primary-nav {
  display: none;
}
#primary-nav.open {
  display: block;
}

/* Desktopissa näytä aina */
@media (min-width: 601px){
  .nav-toggle { display: none; }
  #primary-nav { display: block; }
  #primary-nav ul {
    display: flex;
    gap: 1rem;
    list-style: none;
    margin: 0; padding: 0;
  }
}